<ion-header>
  <ion-toolbar>
    <ion-title>Update Profile</ion-title>
    <ion-buttons slot="end">
      <ion-icon name="close-outline" slot="icon-only" (click)="onDismiss()"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="gradient" style="height: 100%;">
    <ion-row class="mt-5">
      <ion-col size-sm="8" offset-sm="2">
        <form  class="ion-padding-horizontal" [formGroup]="updatePassword" (ngSubmit)="onSubmit(updatePassword)">
          <div class="d-flex column">
      
            <div class="mb-2">
              <input type="password" 
              placeholder="Current Password" 
              class="form-control" 
              formControlName="passwordCurrent"
              [ngClass]="{ 'is-invalid': submitted && updatePassword.get('passwordCurrent').errors }" 
               >
               <div *ngIf="submitted && updatePassword.get('passwordCurrent').hasError('required')"
               class="invalid-feedback">
                User name required !</div>
            </div>
            
              
          
           
            <div class="mb-2">
              <input type="password"
               placeholder="Password" 
               class="form-control"  
               formControlName="password"
               [ngClass]="{ 'is-invalid': submitted && updatePassword.get('password').errors }" 
               >
               <div *ngIf="submitted && updatePassword.get('password').errors" class="invalid-feedback">
               <div *ngIf="updatePassword.get('password').hasError('required')">
                   Password is required !
               </div>
               <div *ngIf=" updatePassword.get('password').hasError('minLength')">
                 Password must be at least 6 characters !
               </div>
              </div>
            
            </div>

            <div class="mb-2">
              <input type="password"
               placeholder="Confirm Password"
               class="form-control" 
               formControlName="passwordConfirm"
               [ngClass]="{ 'is-invalid': submitted && updatePassword.get('passwordConfirm').errors }" 
               >
               <div
               *ngIf="submitted && updatePassword.get('passwordConfirm').errors"
               class="invalid-feedback">
              <div 
              *ngIf="updatePassword.get('passwordConfirm').hasError('required')">
               Confirm password is required !
              </div>
              <div 
              *ngIf=" updatePassword.get('passwordConfirm').hasError('mustMatch')">
              Confirm password must match !
              </div>
             </div>
            </div>
      
      
            
           
            <ion-button type="submit">Update Password</ion-button>
        
          </div>
      
        </form>
        <div class="alert alert-success mt-2 text-center" role="alert" *ngIf="updated">
         Successfully updated !
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>