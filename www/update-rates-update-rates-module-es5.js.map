{"version":3,"sources":["src/app/main/update-rates/update-rates.page.html","src/app/main/update-rates/update-rates-routing.module.ts","src/app/main/update-rates/update-rates.module.ts","src/app/main/update-rates/update-rates.page.scss","src/app/main/update-rates/update-rates.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/main/tabs/home\\\" class=\\\"text-white\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>updateRates</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid class=\\\"gradient\\\" style=\\\"height: 100%;\\\">\\n    <ion-row>\\n      <ion-col size-sm=\\\"8\\\" offset-sm=\\\"2\\\">\\n        <div class=\\\"mx-3\\\">\\n          <!-- <div style=\\\"border-radius: 5px;margin-bottom: 5px; \\\" class=\\\" py-1 bg-white mb-2 \\\">\\n            <span class=\\\"mr-2\\\">Gold Rate</span>\\n            <span>{{gold}}</span>\\n          </div>\\n          <div style=\\\"border-radius: 5px;\\\" class=\\\" py-1 bg-white mb-2\\\">\\n            <span class=\\\"mr-2\\\">Silver Rate</span>\\n            <span>{{silver}}</span>\\n          </div> -->\\n          <button (click)=\\\"onCurrentRates()\\\" class=\\\"btn btn-primary btn-block mt-3 mb-5\\\">Get Current Rates</button>\\n  \\n        </div>\\n        \\n\\n        <form  class=\\\"ion-padding-horizontal\\\" [formGroup]=\\\"updateRates\\\" (ngSubmit)=\\\"onSubmit(updateRates)\\\">\\n          <div class=\\\"d-flex column\\\">\\n      \\n            <div class=\\\"mb-2\\\">\\n              <input type=\\\"text\\\" \\n              placeholder=\\\"Get gold rate\\\" \\n              disabled\\n              class=\\\"form-control\\\" \\n              formControlName=\\\"gold\\\"\\n               >\\n            </div>\\n            <div class=\\\"mb-2\\\">\\n              <input type=\\\"text\\\" \\n              placeholder=\\\"Get silver rate\\\" \\n              class=\\\"form-control\\\" \\n              disabled\\n              formControlName=\\\"silver\\\"\\n               >\\n            </div>\\n      \\n            <div class=\\\"mb-2\\\">\\n              <input type=\\\"text\\\" \\n              placeholder=\\\"Enter diamond rate\\\" \\n              class=\\\"form-control\\\" \\n              formControlName=\\\"diamond\\\"\\n               >\\n            </div>\\n             <button class=\\\"btn btn-primary btn-block mt-3\\\" type=\\\"submit\\\"[disabled]=\\\"updateRates.invalid\\\">Update Rates</button>\\n            </div>\\n            <div class=\\\"alert alert-success mt-2 text-center\\\" role=\\\"alert\\\" *ngIf=\\\"isUpdated\\\">\\n              Metal rates updated successfull !\\n            </div>\\n            </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UpdateRatesPage } from './update-rates.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UpdateRatesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UpdateRatesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UpdateRatesPageRoutingModule } from './update-rates-routing.module';\n\nimport { UpdateRatesPage } from './update-rates.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    UpdateRatesPageRoutingModule\n  ],\n  declarations: [UpdateRatesPage]\n})\nexport class UpdateRatesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW4vdXBkYXRlLXJhdGVzL3VwZGF0ZS1yYXRlcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { SharedService } from '../services/shared.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-update-rates',\n  templateUrl: './update-rates.page.html',\n  styleUrls: ['./update-rates.page.scss'],\n})\nexport class UpdateRatesPage implements OnInit {\n updateRates:FormGroup;\n gold:number;\n silver:number;\n diamond:number= null;\n isUpdated = false;\n  constructor(\n    private http:HttpClient,\n    private formBuilder: FormBuilder,\n    private auth:AuthService,\n    private service:SharedService,\n    private router:Router\n    ) { }\n\n  ngOnInit() {\n    this.updateRates = this.formBuilder.group({\n      gold:[this.gold,Validators.required],\n      silver:[this.silver,Validators.required],\n      diamond:this.diamond\n    });\n     \n  }\n\n  onCurrentRates(){\n    this.http.get<any>(`https://metals-api.com/api/latest?access_key=fka1uuew9hibte9d5xerfhyndxl5ts4iohiwa9nv7wj9k2n5pt7hmiv1rfc4&base=INR&symbols=XAU,XAG`)\n    .subscribe(res=>{\n     this.gold = Math.round(res.rates.XAU/28.3495);\n     this.silver = Math.round(res.rates.XAG/28.3495); \n      this.ngOnInit();\n    },\n    err=>{\n      this.auth.showAlert(err.error.info);\n    });\n  }\n\n  onSubmit(){\n    if (this.updateRates.invalid) return;\n    this.service.updateRates(this.updateRates.value).subscribe(res=>{\n      this.isUpdated = true;\n      setTimeout(()=>{\n        this.isUpdated = false,\n        this.router.navigate(['/','main','tabs','home']);\n      },1500);\n    },\n    err=>{\n      this.auth.showAlert(err.error.message);\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"update-rates-update-rates-module-es5.js"}